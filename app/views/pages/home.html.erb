<div class="container mt-5">
  <h1 class="text-center text-primary">Welcome to the Sportswear Store</h1>
  <p class="text-center">Explore our collection of sportswear.</p>
  
  <!-- Formulario de búsqueda y filtro -->
  <div class="d-flex justify-content-center mb-4">
    <%= form_with url: root_path, method: :get, local: true, class: "d-flex" do %>
      <!-- Campo de búsqueda por nombre de producto -->
      <%= text_field_tag :search, params[:search], placeholder: "Search for products", class: "form-control me-2", aria: { label: "Search for products" } %>

      <!-- Filtro por categoría -->
      <%= select_tag :category_id, options_from_collection_for_select(Category.all, :id, :name, params[:category_id]), prompt: "Select category", class: "form-select me-2" %>

      <!-- Botón de búsqueda -->
      <%= submit_tag "Search", class: "btn btn-primary" %>
    <% end %>
  </div>

  <!-- Resultados de la búsqueda y filtro -->
  <div id="products">
    <% if @products.present? %>
      <div class="row">
        <% @products.each do |product| %>
          <div class="col-md-4 mb-4">
            <div class="card">
              <!-- Imagen del producto -->
              <% if product.images.attached? %>
                <%= image_tag product.images.first, class: "card-img-top", alt: product.name %>
              <% else %>
                <%= image_tag "default_product.jpg", class: "card-img-top", alt: "Default product image" %>
              <% end %>
              
              <div class="card-body">
                <h5 class="card-title text-primary"><%= product.name %></h5>
                <p class="card-text"><strong>Category:</strong> <%= product.category.name %></p>
                <p class="card-text"><strong>Price:</strong> <%= number_to_currency(product.price) %></p>
                <p class="card-text"><strong>Description:</strong> <%= product.description %></p>
                <p class="card-text"><strong>Stock:</strong> <%= product.stock %> available</p>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-center">No products found.</p>
    <% end %>
  </div>
</div>




