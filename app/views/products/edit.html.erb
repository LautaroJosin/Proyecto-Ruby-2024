<div class="container mt-5">
  <h1 class="text-center text-primary mb-4">Edit Product</h1>

  <%= form_with model: @product, class: 'needs-validation' do |form| %>
    <div class="row mb-3">
      <div class="col-md-6">
        <%= form.label :name, class: 'form-label' %>
        <%= form.text_field :name, class: 'form-control', placeholder: 'e.g., Wireless Headphones' %>
      </div>
      <div class="col-md-6">
        <%= form.label :price, class: 'form-label' %>
        <%= form.number_field :price, class: 'form-control', step: '0.01', placeholder: 'e.g., 99.99' %>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <%= form.label :stock, class: 'form-label' %>
        <%= form.number_field :stock, class: 'form-control', placeholder: 'e.g., 50' %>
      </div>
      <div class="col-md-6">
        <%= form.label :size, class: 'form-label' %>
        <%= form.text_field :size, class: 'form-control', placeholder: 'e.g., Medium, Large, XL' %>
      </div>
    </div>

    <div class="mb-3">
      <%= form.label :description, class: 'form-label' %>
      <%= form.text_area :description, class: 'form-control', rows: 4, placeholder: 'e.g., High-quality wireless headphones with noise cancellation.' %>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <%= form.label :color, class: 'form-label' %>
        <%= form.select :color, ["Red", "Blue", "Green", "Black", "White"], { include_blank: true }, class: 'form-select' %>
      </div>
      <div class="col-md-6">
        <%= form.label :category, class: 'form-label' %>
        <%= form.collection_select :category_id, Category.all, :id, :name, { include_blank: true }, class: 'form-select' %>
      </div>
    </div>

    <% @product.images.each do |image| %>
      <% if image.persisted? %>
        <%= form.hidden_field :images, multiple: true, value: image.signed_id %>
      <% end %>
    <% end %>

    <div class="mb-3">
      <%= form.label :images, class: 'form-label' %>
      <%= form.file_field :images, multiple: true, class: 'form-control', placeholder: 'Upload product images' %>
    </div>

    <div class="d-grid gap-2">
      <%= form.submit 'Update Product', class: 'btn btn-primary btn-lg' %>
    </div>
  <% end %>
</div>
